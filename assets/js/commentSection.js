(()=>{function e(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var t=document.getElementById("videoContainer"),n=document.getElementById("commentForm"),r=function(e,t){var n=document.querySelector(".video__comments ul"),r=document.createElement("li");r.dataset.id=t,r.className="video__comment";var a=document.createElement("i");a.className="fas fa-comment";var o=document.createElement("span");o.innerText="".concat(e);var c=document.createElement("span");c.innerText="X",r.appendChild(a),r.appendChild(o),r.appendChild(c),n.prepend(r)},a=function(){var a,o=(a=regeneratorRuntime.mark((function e(a){var o,c,i,u,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o=n.querySelector("textarea"),c=o.value,i=t.dataset.id,""!==c){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("/api/videos/".concat(i,"/comment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:c})});case 8:if(201!==(u=e.sent).status){e.next=16;break}return e.next=12,u.json();case 12:m=e.sent,d=m.newCommentId,r(c,d),o.value="";case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var c=a.apply(t,n);function i(t){e(c,r,o,i,u,"next",t)}function u(t){e(c,r,o,i,u,"throw",t)}i(void 0)}))});return function(e){return o.apply(this,arguments)}}();n&&n.addEventListener("submit",a)})();